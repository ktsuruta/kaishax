{% extends "reports/base.html" %}

{% block content %}
<!--overview start-->

{% for report in reports %}
  {{ report.net_sales }}
{% endfor %}

<div class="row">
    <div class="col-lg-12">
        <h3 class="page-header"><i class="fa fa-laptop"></i> Dashboard</h3>
        <ol class="breadcrumb">
            <li><i class="fa fa-home"></i><a href="index.html">Home</a></li>
            <li><i class="fa fa-laptop"></i>Dashboard</li>
        </ol>
    </div>
</div>

<div class="row">
    <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">
        <div class="info-box blue-bg">
            <i class="fa fa-cloud-download"></i>
            <div class="count">{{ reports.0.per }}</div>
            <div class="title">PER ( {{ reports.0.year }})</div>
        </div>
        <!--/.info-box-->
    </div>
    <!--/.col-->

    <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">
        <div class="info-box brown-bg">
            <i class="fa fa-shopping-cart"></i>
            <div class="count">{{ reports.0.roe }}</div>
            <div class="title">ROE {{ reports.0.year }}</div>
        </div>
        <!--/.info-box-->
    </div>
    <!--/.col-->

    <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">
        <div class="info-box dark-bg">
            <i class="fa fa-thumbs-o-up"></i>
            <div class="count">{{ reports.0.eps }}</div>
            <div class="title">eps {{ reports.0.year }}</div>
        </div>
        <!--/.info-box-->
    </div>
    <!--/.col-->

    <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">
        <div class="info-box green-bg">
            <i class="fa fa-cubes"></i>
            <div class="count">{{ reports.0.pay_out_ratio }}</div>
            <div class="title">Eqyuty to assets ratio {{ reports.0.year }}</div>
        </div>
        <!--/.info-box-->
    </div>
    <!--/.col-->

</div>
<!--/.row-->

<div class="col-lg-12">
    <section class="panel">
        <header class="panel-heading">
            <h3>General Chart
            </h3></header>
        <div class="panel-body">
            <div class="tab-pane" id="chartjs">

                <div class="row">
                    <!-- Net Sales -->
                    <div class="col-lg-6">
                        <section class="panel">
                            <header class="panel-heading">
                               Net Sales
                            </header>
                            <div class="panel-body text-center">
                                <canvas id="net_sales" height="300" width="500" style="width: 500px; height: 300px;"></canvas>
                            </div>
                        </section>
                    </div>

                    <!-- Net Assets -->
                    <div class="col-lg-6">
                        <section class="panel">
                            <header class="panel-heading">
                                Revenues Operating / Ordinary / Profit Before Tax
                            </header>
                            <div class="panel-body text-center">
                                <canvas id="revenues" height="300" width="500" style="width: 500px; height: 300px;"></canvas>
                            </div>
                        </section>
                    </div>
                </div>

                <div class="row">
                    <!-- Net Sales -->
                    <div class="col-lg-4">
                        <section class="panel">
                            <header class="panel-heading">
                                Cash Flow From Operating
                            </header>
                            <div class="panel-body text-center">
                                <canvas id="cash_flow_from_operating" height="300" width="500" style="width: 500px; height: 300px;"></canvas>
                            </div>
                        </section>
                    </div>

                    <!-- Net Assets -->
                    <div class="col-lg-4">
                        <section class="panel">
                            <header class="panel-heading">
                                Cash Flow From In
                            </header>
                            <div class="panel-body text-center">
                                <canvas id="cash_flow_from_investing" height="300" width="500" style="width: 500px; height: 300px;"></canvas>
                            </div>
                        </section>
                    </div>

                    <!-- Net Assets -->
                    <div class="col-lg-4">
                        <section class="panel">
                            <header class="panel-heading">
                                Bar
                            </header>
                            <div class="panel-body text-center">
                                <canvas id="cash_flow_from_financing" height="300" width="500" style="width: 500px; height: 300px;"></canvas>
                            </div>
                        </section>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>
{% endblock %}

{% block chartdata %}
<script>
$(document).ready(function() {



    var barNetSalesData = {
        labels : [{% for report in reports %}"{{ report.year }}", {% endfor %}],
        datasets : [
            {
                fillColor : "rgba(220,220,220,0.5)",
                strokeColor : "rgba(220,220,220,1)",
                data : [{% for report in reports %}{{ report.net_sales }}, {% endfor %}]
            },
        ]

    };


    var barNetSalesData = {
        labels : [{% for report in reports %}"{{ report.year }}", {% endfor %}],
        datasets : [
            {
                fillColor : "rgba(220,220,220,0.5)",
                strokeColor : "rgba(220,220,220,1)",
                data : [{% for report in reports %}{{ report.net_sales }}, {% endfor %}]
            },
        ]

    };

    var barRevenuesData = {
        labels : [{% for report in reports %}"{{ report.year }}", {% endfor %}],
        datasets : [
            {
                fillColor : "rgba(220,220,220,0.5)",
                strokeColor : "rgba(220,220,220,1)",
                data : [{% for report in reports %}{{ report.operating_revenue }}, {% endfor %}]
            },
            {
                fillColor : "rgba(220,220,220,0.5)",
                strokeColor : "rgba(220,220,220,1)",
                data : [{% for report in reports %}{{ report.ordinary_revenue }}, {% endfor %}]
            },
            {
                fillColor : "rgba(220,220,220,0.5)",
                strokeColor : "rgba(220,220,220,1)",
                data : [{% for report in reports %}{{ report.profit_before_tax }}, {% endfor %}]
            },
        ]

    };
    var barCashFlowFromOperatingData = {
        labels : [{% for report in reports %}"{{ report.year }}", {% endfor %}],
        datasets : [
            {
                fillColor : "rgba(220,220,220,0.5)",
                strokeColor : "rgba(220,220,220,1)",
                data : [{% for report in reports %}{{ report.cash_flow_from_operating }}, {% endfor %}]
            },
        ]

    };

    var barCashFlowFromInvestingData = {
        labels : [{% for report in reports %}"{{ report.year }}", {% endfor %}],
        datasets : [
            {
                fillColor : "rgba(220,220,220,0.5)",
                strokeColor : "rgba(220,220,220,1)",
                data : [{% for report in reports %}{{ report.cash_flow_from_investing }}, {% endfor %}]
            },
        ]

    };
    var barCashFlowFromFinancingData = {
        labels : [{% for report in reports %}"{{ report.year }}", {% endfor %}],
        datasets : [
            {
                fillColor : "rgba(220,220,220,0.5)",
                strokeColor : "rgba(220,220,220,1)",
                data : [{% for report in reports %}{{ report.cash_flow_from_financing }}, {% endfor %}]
            },
        ]

    };

    new Chart(document.getElementById("net_sales").getContext("2d")).Bar(barNetSalesData);
    new Chart(document.getElementById("revenues").getContext("2d")).Bar(barRevenuesData);
    new Chart(document.getElementById("cash_flow_from_operating").getContext("2d")).Bar(barCashFlowFromOperatingData);
    new Chart(document.getElementById("cash_flow_from_investing").getContext("2d")).Bar(barCashFlowFromInvestingData);
    new Chart(document.getElementById("cash_flow_from_financing").getContext("2d")).Bar(barCashFlowFromFinancingData);


});
</script>
{% endblock %}
